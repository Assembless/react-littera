{"version":3,"sources":["../../src/react/service.tsx","App.tsx","../../src/react/hooks.ts","../../src/core/translate.ts","index.tsx"],"names":["LitteraContext","locale","locales","setLocale","LitteraService","children","initialLocale","React","value","translations","Header","translated","service","translate","useLittera","useLitteraMethods","hello","onClick","App","ReactDOM","render","document","getElementById"],"mappings":"kQASaA,EAAiB,wBAAoC,CAChEC,OADgE,QAEhEC,QAAS,CAFuD,SAGhEC,UAAW,eA2BAC,EAAiB,SAAC,G,MAC7BC,aACAC,kBACAJ,YAEA,EAA4BK,kCAC1BD,EAD0BC,EACTL,EADSK,MAA5B,SAAON,EAAP,KAAeE,EAAf,KAIA,OACE,wBAACH,EAAD,UAAyBQ,MAAO,CAAEP,OAAF,EAAUE,UAAV,EAAqBD,YADvD,ICpCIO,EAAe,CACnB,MAAS,CACP,MAAS,gBAEX,MAAS,CACP,MAAS,eAEX,MAAS,CACP,MAAS,uBAEX,MAAS,CACP,MAAS,eAEX,MAAS,CACP,MAAS,2DAIPC,EAAS,WACb,IAAMC,ECnBkB,cAIxB,IAAMC,EAAUL,qBAAhB,GAEA,OAAOA,iBCVgB,oCAGKE,EAHL,SDUHI,CAAS,QAAqBZ,EAArB,EAA+BW,EAArDL,SAAP,QDamBO,CAAWL,GAC9B,ECV+B,WAC/B,IAAMG,EAAUL,qBAAhB,GAEA,MAAO,CAAEJ,UAAWS,EAAb,UAAgCX,OAAQW,EAAQX,QDOzBc,GAAtBd,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,UAsBhB,OAAO,6BACL,4BAAKQ,EAAWK,OAChB,4BAAQC,QAtBW,WACnB,OAAOhB,GACL,IAAK,QACHE,EAAU,SACV,MACF,IAAK,QACHA,EAAU,SACV,MACF,IAAK,QACHA,EAAU,SACV,MACF,IAAK,QACHA,EAAU,SACV,MACF,IAAK,QACHA,EAAU,YAOd,qBAIWe,EAxDH,WACV,OAAO,kBAAC,EAAD,CAAgBhB,QAAS,CAAE,QAAS,QAAS,QAAS,UAC3D,kBAAC,EAAD,QGAJiB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.b1bae71c.chunk.js","sourcesContent":["import * as React from 'react'\r\nimport { LitteraTranslated } from '../typings'\r\n\r\ntype LitteraContext = {\r\n  locale: string\r\n  locales: string[]\r\n  setLocale: (locale: string) => void\r\n}\r\n\r\nexport const LitteraContext = React.createContext<LitteraContext>({\r\n  locale: 'en_US',\r\n  locales: ['en_US'],\r\n  setLocale: () => {}\r\n})\r\n\r\ninterface LitteraServiceProps {\r\n  children: React.ReactNode\r\n  initialLocale?: string\r\n  locales: string[]\r\n  preset?: LitteraTranslated<any, any>\r\n}\r\n\r\n/**\r\n * Context Provider for Littera\r\n * @category React\r\n * @public\r\n * @param initialLocale Initial active locale.\r\n * @param preset Set of predefined translations.\r\n * @param setLocale Callback called when the locale changes.\r\n * @param pattern Locale pattern.\r\n * @example\r\n * // Setting up Littera provider.\r\n *\r\n * const App = () => {\r\n *    return <LitteraService locales={[\"en_US\", \"de_DE\"]}>\r\n *      ...\r\n *    </LitteraService>\r\n * }\r\n */\r\nexport const LitteraService = ({\r\n  children,\r\n  initialLocale,\r\n  locales\r\n}: LitteraServiceProps) => {\r\n  const [locale, setLocale] = React.useState(\r\n    initialLocale ?? locales[0] ?? 'en_US'\r\n  )\r\n\r\n  return (\r\n    <LitteraContext.Provider value={{ locale, setLocale, locales }}>\r\n      {children}\r\n    </LitteraContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport { LitteraService, useLittera, useLitteraMethods } from '@assembless/react-littera'\r\n\r\nconst App = () => {\r\n  return <LitteraService locales={[ \"en_US\", \"de_DE\", \"pl_PL\", \"no_NO\" ]}>\r\n    <Header />\r\n  </LitteraService>\r\n}\r\n\r\n// ---\r\n\r\nconst translations = {\r\n  \"en_US\": {\r\n    \"hello\": \"Hello world!\"\r\n  },\r\n  \"de_DE\": {\r\n    \"hello\": \"Hallo Welt!\"\r\n  },\r\n  \"pl_PL\": {\r\n    \"hello\": \"Witaj świecie!\"\r\n  },\r\n  \"no_NO\": {\r\n    \"hello\": \"Hei verden!\"\r\n  },\r\n  \"jp_JP\": {\r\n    \"hello\": \"こんにちは、世界！\"\r\n  }\r\n}\r\n\r\nconst Header = () => {\r\n  const translated = useLittera(translations)\r\n  const { locale, setLocale } = useLitteraMethods();\r\n\r\n  const switchLocale = () => {\r\n    switch(locale) {\r\n      case \"en_US\":\r\n        setLocale(\"de_DE\");\r\n        break;\r\n      case \"de_DE\":\r\n        setLocale(\"pl_PL\");\r\n        break;\r\n      case \"pl_PL\":\r\n        setLocale(\"no_NO\");\r\n        break;\r\n      case \"no_NO\":\r\n        setLocale(\"jp_JP\");\r\n        break;\r\n      case \"jp_JP\":\r\n        setLocale(\"en_US\");\r\n        break;\r\n    }\r\n  } \r\n\r\n  return <div>\r\n    <h1>{translated.hello}</h1>\r\n    <button onClick={switchLocale}>Switch language</button>\r\n  </div>\r\n}\r\n\r\nexport default App\r\n","import * as React from 'react'\r\nimport { LitteraContext } from './service'\r\nimport { translate } from '..'\r\nimport { LitteraTranslated, LitteraTranslations } from '../typings'\r\n\r\n/**\r\n * @description React hook for translating a component.\r\n * @category React\r\n * @param translations\r\n * @param locale Optional locale to translate to. Defaults to the current locale.\r\n * @returns The translations object for the specified locale.\r\n */\r\nexport const useLittera = <T, K extends keyof T>(\r\n  translations: LitteraTranslations<T>,\r\n  locale?: string\r\n): LitteraTranslated<T, K> => {\r\n  const service = React.useContext(LitteraContext)\r\n\r\n  return React.useRef(translate<T, K>(translations, locale ?? service.locale))\r\n    .current\r\n}\r\n\r\nexport const useLitteraMethods = () => {\r\n  const service = React.useContext(LitteraContext)\r\n\r\n  return { setLocale: service.setLocale, locale: service.locale }\r\n}\r\n","import { LitteraTranslated, LitteraTranslations } from '../typings'\r\n\r\n/**\r\n * Reduces a translations object, returning translations for the specified locale.\r\n * @category core\r\n * @param translations The translations object.\r\n * @param locale The locale to return.\r\n */\r\nexport const translate = <T, K extends keyof T>(\r\n  translations: LitteraTranslations<T>,\r\n  locale: string\r\n): LitteraTranslated<T, K> => translations[locale] ?? {}\r\n","import './index.css'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}